<!DOCTYPE html>
  <html ng-app="docs">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>mediaPlayer: Using ng-repeat</title>

    <!-- BootstrapCDN -->
    <link href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/darkly/bootstrap.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
    <!-- highlight.js -->
    <link rel="stylesheet" href="//yandex.st/highlightjs/8.0/styles/github.min.css">
    <!-- css fork ribbon -->
    <link rel="stylesheet" href="/angular-media-player/libs/github-fork-ribbon-css/gh-fork-ribbon.css">
    <!--[if lt IE 9]>
        <link rel="stylesheet" href="/angular-media-player/libs/github-fork-ribbon-css/gh-fork-ribbon.ie.css">
    <![endif]-->
    <!-- overridden css -->
    <link href="/angular-media-player/style.css" rel="stylesheet">

    <!-- google analytics -->
    <script type="text/javascript">
    var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-42785441-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' === document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

    </script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.js"></script>
    <script type="text/javascript" src="/angular-media-player/libs/angular-media-player.js"></script>
    <script type="text/javascript">
    angular.module('docs', ['mediaPlayer'])
.config(function ($interpolateProvider) {
  $interpolateProvider.startSymbol('[[');
  $interpolateProvider.endSymbol(']]');
})
.run(function ($rootScope) {
  // helper function to seek to a percentage
  $rootScope.seekPercentage = function ($event) {
    var percentage = ($event.offsetX / $event.target.offsetWidth);
    if (percentage <= 1) {
      return percentage;
    } else {
      return 0;
    }
  };
});

    </script>
    
  <script type="text/javascript">angular.module('docs')
// Taken from http://en.wikipedia.org/wiki/List_of_songs_considered_the_best
// Thanks again, wikipedia.
.constant('top100SongsEver', [
  { url: 'http://upload.wikimedia.org/wikipedia/en/5/5e/U2_One.ogg', displayName: 'U2 - One' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/6/6c/NirvanaSmellsLikeTeenSpirit.ogg', displayName: 'Nirvana - Smells Like Teen Spirit' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/b/be/My_Name_Is.ogg', displayName: 'Eminem - My Name is' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/c/c4/Radiohead_-_Creep_%28sample%29.ogg', displayName: 'Radiohead - Creep' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/6/64/OasisLiveForever.ogg', displayName: 'Oasis - Live Forever' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/6/65/Eagles_-_Hotel_California.ogg', displayName: 'Eagles - Hotel California' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/c/cb/Stairway_to_Heaven_3_sections.ogg', displayName: 'Led Zeppelin - Stairway to Heaven' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/c/cb/Pink_floyd_another_brick_in_the_wall_part_2.ogg', displayName: 'Pink Floyd - Another Brick in the Wall' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/d/d0/Beatles_cometogether.ogg', displayName: 'Beatles - Come Together' },
  { url: 'http://upload.wikimedia.org/wikipedia/en/d/db/Layla_sample_1.ogg', displayName: 'Derek and the Dominos - Layla' }
])
.controller('RepeatController', function ($scope, top100SongsEver) {
  $scope.audioPlaylist = top100SongsEver.map(function (song, index, array) {
    var parseTitle = song.displayName.match(/(.*?)\s?-\s?(.*)?$/);
    return { src: song.url, type: 'audio/ogg', artist: parseTitle[1], title: parseTitle[2] };
  });
});
</script>

  </head>
  <body>
    <div class="footerwrap">
      <div class="github-fork-ribbon-wrapper right hidden-xs">
        <div class="github-fork-ribbon">
          <a href="https://github.com/mrgamer/angular-media-player">Fork me on GitHub</a>
        </div>
      </div>
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand hidden-xs" href="/angular-media-player/index.html">angular-media-player</a>
            <a class="navbar-brand visible-xs" href="/angular-media-player/index.html"><i class="fa fa-home"></i></a>
            <p class="navbar-text navbar-arrow"></p>
            <p class="navbar-text navbar-active">Using ng-repeat</p>
          </div>
        </div>
      </div>
      <div class="container">
        
<div class="col-xs-12 col-sm-9" ng-controller="RepeatController">

        
<div class="jumbotron">
  <h1>ng-repeat on a playlist</h1>
  <p>
    Iterating over the playlist object shouldn't be any different than any other <i>array</i>.
  </p>
</div>
<h3 id="interact">Interact</h3>
<p>Click on the tracks below to play them, in this example only one <code>&lt;audio&gt;</code> tag gets used, the <code>ng-repeat</code> is used on the playlist, not on the <code>&lt;audio&gt;</code> tag.</p>

<audio media-player="mediaPlayer" playlist="audioPlaylist"></audio>

<div class="player-control">
  <div class="btn" ng-click="mediaPlayer.play()">
    <span>Simple Play</span>
    <i class="fa fa-play"></i>
  </div>
  <div class="btn" ng-click="mediaPlayer.playPause()">
    <i class="fa" ng-class="{ 'fa-pause': mediaPlayer.playing, 'fa-play': !mediaPlayer.playing }"></i>
  </div>
  <div class="btn" ng-click="mediaPlayer.next()">
    <span>Next</span>
    <i class="fa fa-step-forward"></i>
  </div>
  <div class="btn" ng-click="mediaPlayer.prev()">
    <i class="fa fa-step-backward"></i>
    <span>Prev</span>
  </div>
  <div class="btn btn-noclick">
    <span>currentTrack: <span class="badge">[[ mediaPlayer.currentTrack ]]</span></span>
  </div>
  <div class="btn btn-noclick">
    <span><i class="fa fa-clock-o"></i>: <span class="badge">[[ mediaPlayer.formatTime ]]</span></span>
  </div>
  <div class="btn btn-noclick">
    <span>volume: <span class="badge">[[ mediaPlayer.volume * 100 | number:0 ]]%</span></span>
  </div>
  <div class="btn" ng-click="mediaPlayer.setVolume(mediaPlayer.volume - 0.1)">
    <span><i class="fa fa-volume-down"></i></span>
  </div>
  <div class="btn" ng-click="mediaPlayer.setVolume(mediaPlayer.volume + 0.1)">
    <span><i class="fa fa-volume-up"></i></span>
  </div>
  <div class="progress" ng-click="mediaPlayer.seek(mediaPlayer.duration * seekPercentage($event))">
    <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{ width: mediaPlayer.currentTime*100/mediaPlayer.duration + '%' }"></div>
    <div class="time" ng-show="mediaPlayer.formatTime">
      <span>[[ mediaPlayer.formatTime ]]</span><b>/</b><span>[[ mediaPlayer.formatDuration ]]</span>
    </div>
  </div>
</div>


<table class="table table-hover table-rounded table-cursor">
  <thead>
    <th>#</th>
    <th>Artist</th>
    <th>Title</th>
  </thead>
  <tbody>
    <tr ng-repeat="song in audioPlaylist" ng-click="mediaPlayer.playPause($index)" ng-class="{ active: mediaPlayer.playing && mediaPlayer.currentTrack-1 === $index }">
      <td>[[ $index+1 ]]</td>
      <td>[[ song.artist ]]</td>
      <td>[[ song.title ]]</td>
    </tr>
  </tbody>
</table>

<h3>player status in realtime</h3>

<pre>
  <code>
    mediaPlayer = {
      playing: [[ mediaPlayer.playing ]]
      currentTrack: [[ mediaPlayer.currentTrack ]]
      tracks: [[ mediaPlayer.tracks ]]
      volume: [[ mediaPlayer.volume ]]
      formatDuration: [[ mediaPlayer.formatDuration ]]
      duration: [[ mediaPlayer.duration ]]
      currentTime: [[ mediaPlayer.currentTime ]]
      formatTime: [[ mediaPlayer.formatTime ]]
      loadPercent: [[ mediaPlayer.loadPercent ]]
    };
  </code>
</pre>


<h1>Code</h1>
<small>...you can inspect aswell!</small>
<code class="hljs javascript">angular.module(<span class="hljs-string">'docs'</span>)
<span class="hljs-comment">// Taken from http://en.wikipedia.org/wiki/List_of_songs_considered_the_best</span>
<span class="hljs-comment">// Thanks again, wikipedia.</span>
.constant(<span class="hljs-string">'top100SongsEver'</span>, [
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/5/5e/U2_One.ogg'</span>, displayName: <span class="hljs-string">'U2 - One'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/6/6c/NirvanaSmellsLikeTeenSpirit.ogg'</span>, displayName: <span class="hljs-string">'Nirvana - Smells Like Teen Spirit'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/b/be/My_Name_Is.ogg'</span>, displayName: <span class="hljs-string">'Eminem - My Name is'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/c/c4/Radiohead_-_Creep_%28sample%29.ogg'</span>, displayName: <span class="hljs-string">'Radiohead - Creep'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/6/64/OasisLiveForever.ogg'</span>, displayName: <span class="hljs-string">'Oasis - Live Forever'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/6/65/Eagles_-_Hotel_California.ogg'</span>, displayName: <span class="hljs-string">'Eagles - Hotel California'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/c/cb/Stairway_to_Heaven_3_sections.ogg'</span>, displayName: <span class="hljs-string">'Led Zeppelin - Stairway to Heaven'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/c/cb/Pink_floyd_another_brick_in_the_wall_part_2.ogg'</span>, displayName: <span class="hljs-string">'Pink Floyd - Another Brick in the Wall'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/d/d0/Beatles_cometogether.ogg'</span>, displayName: <span class="hljs-string">'Beatles - Come Together'</span> },
  { url: <span class="hljs-string">'http://upload.wikimedia.org/wikipedia/en/d/db/Layla_sample_1.ogg'</span>, displayName: <span class="hljs-string">'Derek and the Dominos - Layla'</span> }
])
.controller(<span class="hljs-string">'RepeatController'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($scope, top100SongsEver)</span> {</span>
  $scope.audioPlaylist = top100SongsEver.map(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(song, index, array)</span> {</span>
    <span class="hljs-keyword">var</span> parseTitle = song.displayName.match(<span class="hljs-regexp">/(.*?)\s?-\s?(.*)?$/</span>);
    <span class="hljs-keyword">return</span> { src: song.url, type: <span class="hljs-string">'audio/ogg'</span>, artist: parseTitle[<span class="hljs-number">1</span>], title: parseTitle[<span class="hljs-number">2</span>] };
  });
});
</code>

<br>
<p>Template for this page</p>
<code class="hljs html">
<span class="hljs-tag">&lt;<span class="hljs-title">table</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"table table-hover table-rounded table-cursor"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">th</span>&gt;</span>#<span class="hljs-tag">&lt;/<span class="hljs-title">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">th</span>&gt;</span>Artist<span class="hljs-tag">&lt;/<span class="hljs-title">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">th</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-title">th</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">thead</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">tr</span> <span class="hljs-attribute">ng-repeat</span>=<span class="hljs-value">"song in audioPlaylist"</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">"mediaPlayer.playPause($index)"</span> <span class="hljs-attribute">ng-class</span>=<span class="hljs-value">"{ active: mediaPlayer.playing &amp;&amp; mediaPlayer.currentTrack-1 === $index }"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>{{ $index+1 }}<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>{{ song.artist }}<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">td</span>&gt;</span>{{ song.title }}<span class="hljs-tag">&lt;/<span class="hljs-title">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">tbody</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">table</span>&gt;</span>
</code>

        </div>
        <div class="col-xs-12 col-sm-3" role="navigation">
          <p class="text-success">Examples List</p>
          <div class="list-group">
            
            
            <a class="list-group-item" href="index.html">Getting Started</a>
            
            
            
            <a class="list-group-item" href="robust-playlist.html">Robust Playlist</a>
            
            
            
            <a class="list-group-item" href="robust-playlist-2.html">Robust Playlist #2</a>
            
            
            
            <a class="list-group-item" href="backwards-compatible.html">Backwards Compatibility</a>
            
            
            
            <a class="list-group-item" href="interactive.html">Interactive Demo</a>
            
            
            
            <a class="list-group-item active" href="ng-repeat.html">Using ng-repeat</a>
            
            
            
            <a class="list-group-item" href="video-support.html">Video support</a>
            
            
            
            <a class="list-group-item" href="development.html">Test Page</a>
            
            
          </div>
        </div>
      </div>
      <div class="push"></div>
    </div>
    <div class="footer">
      <div class="container">
        angular-media-player is copyright ©2014 <a href="http://col3.me">Valerio Coltre</a>, licensed for use under the permissive <a href="http://choosealicense.com/">MIT Open Source License</a>.
      </div>
    </div>
  </body>
</html>
